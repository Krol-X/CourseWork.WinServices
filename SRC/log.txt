#include "cplog.h"

char *genLogFName();
LogObj Log(genLogFName());

//
// ÔÓÍÊÖÈß: char *genLogFName()
//
// ÍÀÇÍÀ×ÅÍÈÅ: ãåíåğèğóåò èìÿ ôàéëà ëîãà
//
char *genLogFName() {
	char *buf = new char[25];
	time_t t = time(0);
	struct tm* aTm = localtime(&t);
	sprintf(buf, "mysvclog %02d%02d%04d_%02d%02d%02d.log",
	        aTm->tm_mday, aTm->tm_mon+1, aTm->tm_year+1900,
	        aTm->tm_hour, aTm->tm_min, aTm->tm_sec);
	return buf;
}